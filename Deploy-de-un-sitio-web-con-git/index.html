<!DOCTYPE html><!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]--><!--[if IE 7]><html class="no-js lt-ie9 lt-ie8"><![endif]--><!--[if IE 8]><html class="no-js lt-ie9"><![endif]--><!--[if gt IE 8]><!--><html class="no-js"><!--<![endif]--><head><meta charset="utf-8"><title>Deploy de un sitio web con git - Alfredo Llanos</title><meta charset="utf-8"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="description" content=""><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link rel="stylesheet" href="../build/style.un.min.css"><link href="http://fonts.googleapis.com/css?family=Arvo:700,700italic|Roboto:400italic,100,300,100italic,300italic,400" rel="stylesheet" type="text/css"><script src="//cdnjs.cloudflare.com/ajax/libs/jquery.isotope/2.0.0/isotope.pkgd.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/snap.svg/0.3.0/snap.svg-min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script></head><body><div class="loader"><div class="spinner"><div class="double-bounce1"></div><div class="double-bounce2"></div></div></div><div class="nav-container"><nav class="top-bar overlay-bar offscreen-menu drop-shadow"><div class="container"><div class="row utility-menu"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class="utility-inner clearfix"><span class="alt-font btn-sm"><i class="icon icon_pin"></i> Bilbao | 43.2569° N, 2.9236° W</span><div class="pull-right"><ul class="social-icons text-right"><li><a href="https://twitter.com/biojazzard"><i class="fa fa-twitter"></i></a></li><li><a href="https://www.facebook.com/alfredo.llanos"><i class="fa fa-facebook"></i></a></li><li><a href="https://plus.google.com/+AlfredoLlanos/"><i class="fa fa-google-plus"></i></a></li></ul></div></div></div></div><div class="row nav-menu"><div class="col-xs-3 col-sm-3 col-md-2 col-lg-2"><a href="/"><div id="logo" class="logo" data-src="http://biojazzard.github.io/img/dot-a.svg" data-desc="DOT-A Alfredo Llanos"></div></a></div><div class="col-sm-9 col-sm-9 col-md-10 col-lg-10"><div class="offscreen-toggle"><i class="icon icon_menu text-white pull-right"></i></div></div></div></div><div class="offscreen-container"><div class="made-with">Made with Love ...</div><div id="smiley" class="smiley" data-src="http://biojazzard.github.io/img/smiley.svg" data-desc="smiley"></div><div class="made-with to-bottom">and some acid tracks!,</div></div></nav></div><div class="main-container"><header class="title"><div class="background-image-holder parallax-background"><img class="background-image" alt="Background Image" src="http://biojazzard.github.io/img/hero10.jpg"></div><div class="container align-bottom"><div class="row"><div class="col-xs-12"><h1 class="text-white">Deploy de un sitio web con git</h1><p><span class="sub alt-font text-white">16 November, 2014</span></p></div></div></div></header><section class="article-single"><div class="container"><div class="row"><div class="col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1"><div class="article-body"><p><em>Si usas git para controlar un proyecto, muchas veces querrás que sólo lo alojado en <code>dist</code> o <code>_site</code> sea lo publicado en la web.</em></p><p>Este es el caso si usas <a href="http://yeoman.io/">Yeoman</a> o <a href="http://jekyllrb.com/">Jekyll</a>, o cualquier otro sistema en el que publiques sobre una carpeta: <code>dist</code>, <code>_site</code> o como la llames.</p><h1>Necesario</h1><p>Usar <code>git subtree</code>.</p><h1>Suponemos</h1><ul><li>Contenido a publicar: <code>_site</code></li></ul><div class="highlight"><pre><code class="language-text" data-lang="text">.
├── _includes/
|   ├── footer.html
|   ├── header.html
|   └── posts.html
├── _plugins/
|   ├── asset_url.rb
|   └── image_tag.rb
├── _layouts/
|   ├── default.html
|   ├── page.html
|   └── post.html
├── _posts/
|   ├── 2013-02-11-.md
|   └── 2013-01-31-hello-world.md
├── _site/ --&gt; A PUBLICAR EN LA RAIZ DE LA WEB
├── _config.yml
└── index.html
</code></pre></div><ul><li><p>Branch de trabajo: <code>master</code></p></li><li><p>Branch a publicar: <code>dist</code> (Se creará al vuelo)</p></li></ul><ol><li><p>Eliminar el directorio <code>_site</code> del archivo <code>.gitignore</code> file. Yeoman lo ignora por defecto. OjO.</p></li><li><p>Añade el directorio a git y hacemos <code>commit</code> a todo.</p></li></ol><div class="highlight"><pre><code class="language-bash" data-lang="bash">git add _site <span class="o">&amp;&amp;</span> git commit -m <span class="s2">&quot;Initial _site subtree commit&quot;</span>
</code></pre></div><ol><li>Empujamos <code>_site</code> al <strong>origen</strong> sobre el branch <strong>dist</strong></li></ol><div class="highlight"><pre><code class="language-bash" data-lang="bash">git subtree push --prefix _site origin dist
</code></pre></div><h2>Acualizaciones</h2><ul><li><code>git commit</code> a todo el proyecto y</li><li><code>git subtree push --prefix _site origin dist</code></li></ul><p>Ya está si usas los hooks, tu sitio se actualizará automáticamente.</p><h2>Para leer:</h2><p><a href="http://yeoman.io/learning/deployment.html">Deploying a Yeoman Site</a></p></div></div></div><div class="row"><div class="col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2"><div class="author-details"><div id="logo-author" class="logo-author" data-src="http://biojazzard.github.io/img/dot-a.svg" data-desc="DOT-A Alfredo Llanos"></div><h5>Alfredo Llanos</h5><p>Web Developer. Bilbao</p><ul class="social-icons text-right"><li><a href="https://twitter.com/biojazzard"><i class="fa fa-twitter"></i></a></li><li><a href="https://www.facebook.com/alfredo.llanos"><i class="fa fa-facebook"></i></a></li><li><a href="https://plus.google.com/+AlfredoLlanos/"><i class="fa fa-google-plus"></i></a></li></ul></div></div></div></div></section></div><div class="footer-container"><footer class="details"><div class="container"><div class="row ui-sortable"><div class="col-sm-12"><span class="sub">© 2014 <a href="#">Alfredo Llanos</a> &nbsp;- Todos los derechos reservados.</span></div></div></div></footer></div><script src="https://www.youtube.com/iframe_api"></script><script src="../build/build.min.js"></script></body></html>